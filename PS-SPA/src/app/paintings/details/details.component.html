<div class="container">
    <form class="mb-5" [formGroup]="paintingModel" (ngSubmit)="updatePainting()">
      <h2 class="text-center text-primary">Edit Painting</h2>
      
      <div class="row">
        <div class="col-12">
          <ul class="progressbar">
            <li class="complete">Order Placed</li>
            <li class="complete">Shipped</li>
            <li class="active">Completed</li>
            <li class="half-complete">Settled</li>
          </ul>
          
          <input id="progress" type="range" min="0" max="100">
        </div>
      </div>

      <hr />

      <div class="form-group">
        <div class="row">
          <div class="col-sm">
            <div class="form-group">
              <div class="form-floating">
                <select
                  class="form-select"
                  id="floatingSelect"
                  aria-label="Floating label select example"
                  formControlName="categoryId"
                  [ngClass]="{
                    'is-invalid':
                      paintingModel.get('categoryId').errors &&
                      paintingModel.get('categoryId').touched,
                    'is-valid':
                      !paintingModel.get('categoryId').errors &&
                      paintingModel.get('categoryId').statusChanges
                  }"
                >
                  <option selected></option>
                  <option value="1">Mixed Tehnique</option>
                  <option value="2">Sea mosaic</option>
                  <option value="3">Marine-themed wall panels</option>
                </select>
                <div class="valid-feedback">Looks good!</div>
                <div class="invalid-feedback">
                  Please enter a category for painting
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="row">
          <div class="col-sm">
            <label class="control-label" style="margin-right: 10px"
              >The painting is:
            </label>
            <label class="radio-inline">
              <input
                class="mr-3"
                type="radio"
                value="true"
                formControlName="available"
              />Available
            </label>
            <label class="radio-inline ml-3">
              <input
                class="mr-3"
                type="radio"
                value="false"
                formControlName="available"
              />Unavailable
            </label>
          </div>
        </div>
      </div>

      <div class="row">
        <div class="col-sm">
          <div class="form-group">
            <input
              appDecimalNumeric
              decimals="2"
              type="text"
              [ngClass]="{
                'is-invalid':
                  paintingModel.get('sizeX').errors &&
                  paintingModel.get('sizeX').touched,
                'is-valid':
                  !paintingModel.get('sizeX').errors &&
                  paintingModel.get('sizeX').statusChanges
              }"
              class="form-control"
              formControlName="sizeX"
              placeholder="Enter a Width of the painting"
            />
            <div class="valid-feedback"></div>
            <div
              class="invalid-feedback"
              *ngIf="
                paintingModel.get('sizeX').hasError('required') &&
                paintingModel.get('sizeX').touched
              "
            >
              Please Enter a Width of the painting
            </div>
          </div>
        </div>
        <div class="col-sm">
          <div class="form-group">
            <input
              appDecimalNumeric
              decimals="2"
              type="text"
              [ngClass]="{
                'is-invalid':
                  paintingModel.get('sizeY').errors &&
                  paintingModel.get('sizeY').touched,
                'is-valid':
                  !paintingModel.get('sizeY').errors &&
                  paintingModel.get('sizeY').statusChanges
              }"
              class="form-control"
              formControlName="sizeY"
              placeholder="Enter a Height of the painting"
            />
            <div class="valid-feedback"></div>
            <div
              class="invalid-feedback"
              *ngIf="
                paintingModel.get('sizeY').hasError('required') &&
                paintingModel.get('sizeY').touched
              "
            >
              Please Enter a Height of the painting
            </div>
          </div>
        </div>
      </div>

      <div class="row">
        <div class="col-sm">
          <div class="form-group">
            <input
              type="text"
              [ngClass]="{
                'is-invalid':
                  paintingModel.get('name').errors &&
                  paintingModel.get('name').touched,
                'is-valid':
                  !paintingModel.get('name').errors &&
                  paintingModel.get('name').statusChanges
              }"
              class="form-control"
              formControlName="name"
              placeholder="Enter a name for painting"
            />
            <div class="valid-feedback"></div>
            <div
              class="invalid-feedback"
              *ngIf="
                paintingModel.get('name').hasError('required') &&
                paintingModel.get('name').touched
              "
            >
              Please enter a name for painting
            </div>
            <div
              class="invalid-feedback"
              *ngIf="
                paintingModel.get('name').hasError('minlength') ||
                (paintingModel.get('name').hasError('maxlength') &&
                  paintingModel.get('name').touched)
              "
            >
              Please enter a name between 2 and 50 characters
            </div>
          </div>
        </div>
      </div>

      <div class="row">
        <div class="col-sm">
          <div class="form-group">
            <textarea
              name="interests"
              [ngClass]="{
                'is-invalid':
                  paintingModel.get('description').errors &&
                  paintingModel.get('description').touched,
                'is-valid':
                  !paintingModel.get('description').errors &&
                  paintingModel.get('description').statusChanges
              }"
              class="form-control"
              formControlName="description"
              placeholder="Enter a description for painting"
            ></textarea>
            <div class="valid-feedback"></div>
            <div
              class="invalid-feedback"
              *ngIf="
                paintingModel.get('description').hasError('required') &&
                paintingModel.get('description').touched
              "
            >
              Please enter a description for painting
            </div>
            <div
              class="invalid-feedback"
              *ngIf="
                paintingModel.get('description').hasError('minlength') ||
                (paintingModel.get('description').hasError('maxlength') &&
                  paintingModel.get('description').touched)
              "
            >
              Please enter a name between 10 and 200 characters
            </div>
          </div>
        </div>
      </div>

      <div class="form-group text-center">
        <button
          class="btn btn-success"
          [disabled]="!paintingModel.valid"
          type="submit"
        >
          Save Painting
        </button>
      </div>
    </form>

    <h2 class="text-center text-primary">Upload Images For Painting</h2>
    <hr />
    <app-image-editor [painting]="paintingDetails"></app-image-editor>

</div>
